\input{dofirst}
\documentclass{standalone}
\input{preamble}
\input{tikznetwork}

\begin{document}%
  \begin{tikzpicture}
    % Import base topo
    \input{topo1}

    % Primary path from Node 1 to Node 5
    \draw[srpath0, ->] ([xshift=2pt, yshift=-2pt]1.north east)
      -- ([xshift=-2pt, yshift=-2pt]3.north west);

    % Mark the protected link
    \draw[draw=none] (1) -- (3) node [midway, failed_link, fill=EXPLOSION] {};

    % TI-LFA backup path for Adj-SID(1->3)
    \draw[srpath0_tilfa, ->] ([xshift=-2pt, yshift=-2pt]1.south east)
    -- ([xshift=-2pt, yshift=10pt]2.north east)
    to[out=270,in=180] ([xshift=10pt, yshift=-2pt]2.north east)
    -- ([xshift=-10pt, yshift=-2pt]4.north west)
    to[out=0,in=270] ([xshift=2pt, yshift=10pt]4.north west)
    -- ([xshift=2pt, yshift=-2pt]3.south west);

    % Legend
    \node[below=.5cm of 2, inner sep=0, outer sep=0](a1){};
    \node[below=.35cm of a1, inner sep=0, outer sep=0](a2){};

    \node[right=0cm of a1, inner sep=0, outer sep=0](l1){};
    \node[right=1cm of l1](m1){\scriptsize Primary path for Adjacency-SID(1 $\rightarrow$ 3)};
    \draw[srpath0, ->] (l1) -- (m1);

    \node[right=0cm of a2, inner sep=0, outer sep=0](l2){};
    \node[right=1cm of l2](m2){\scriptsize TI-LFA segment list for Adjacency-SID(1 $\rightarrow$ 3)};
    \draw[srpath0_tilfa, ->] (l2) -- (m2);
\pgfsize{\mywidth}{\myheight}
  \end{tikzpicture}%
\typeout{W=\the\mywidth}
\typeout{H=\the\myheight}
\end{document}
